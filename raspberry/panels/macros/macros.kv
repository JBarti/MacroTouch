#:kivy 1.10.1
#:import TreeViewLabel kivy.uix.treeview.TreeViewLabel
#:import hex_to_color kivy.utils.get_color_from_hex

<EditButton>:
    size_hint_y: .09
    size_hint_x: .06
    img_source: "./icons/edit.png"
    FloatLayout:
        pos: root.pos
        size: root.size
        light_gray: "#202020"
        canvas:
            Color:
                rgb: hex_to_color(self.light_gray)
            Rectangle:
                pos: self.pos
                size: self.size
        Image:
            id: image
            pos: root.pos[0]-24, root.pos[1]+14
            size_hint_y: 0.5
            size_hint_x: None
            source: root.img_source


<CreateWidget>:
    auto_dismiss:False
    title: "Create new macro"
    size_hint: .5,.48
    pos_hint: {"y":.4}
    FloatLayout:
        VKeyboard:
            id: vkeyboard
        BoxLayout:
            pos: root.pos
            orientation: "vertical"
            size_hint_y: None
            size: root.size
            padding: 60,0,0,0
            BoxLayout:
                size_hint_y: None
                size_hint_x: 1
                orientation: "vertical"
                DisplayText:
                    text: "Name"
                    size_hint_y: None
                    size: 20,30
                    size_hint_x: 1
                TextInput:
                    id: name_input
                    multiline: False
                    size_hint_y: None
                    size: 20,30
                    size_hint_x: 0.8
            BoxLayout:
                size_hint_y: None
                size: 20, 75
                size_hint_x: 1
                orientation: "vertical"
                DisplayText:
                    text: "Macro"
                    size_hint_y: None
                    size: 25,30
                    size_hint_x: 1
                TextInput:
                    id: macro_input
                    multiline: False
                    size_hint_y: None
                    size: 20,30
                    size_hint_x: 0.8
            Widget: 
                size_hint_y: None
                size: 0, 25
            BoxLayout:
                size_hint_y: None
                height: 35
                spacing: 20
                Button:
                    id: submit
                    size_hint: None, None
                    size: 100, 35
                    text: "SUBMIT"
                Button:
                    id: cancel
                    size_hint: None, None
                    size: 100, 35
                    text: "CANCEL"
            BoxLayout: 
                size_hint_y: None
                size: 0, 25

<MacroPage@Screen>:
    size_hint: 1,1
    edit_mode: root.edit_mode
    GridLayout:
        size_hint: 1,1
        id: grid
        cols: 6
        rows: 5


<Placeholder@Widget>:
    canvas:
        Color:
            rgb: hex_to_color("#3d3d3d")
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height

<SelectPageButton@MacroButton>:
    size_hint: 1, None
    height: 50


<MacrosOption>:
    orientation: "vertical"
    BoxLayout:
        orientation: "horizontal"
        ScreenManager:
            id: sm
        StackLayout:
            id: pages
            orientation: "lr-tb"
            size_hint_x: .2
            padding: 10, 15, 10, 15
            spacing: 0, 20        
    EditButton:
        id: edit_button
